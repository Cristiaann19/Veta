<div class="p-1">
    <!-- Header Section -->
    <div class="bg-white rounded-3xl shadow-sm border border-emerald-100/50 p-8 mb-6 backdrop-blur-sm">
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6">
            <div>
                <h3
                    class="text-4xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent mb-2">
                    Lista de Servicios
                </h3>
                <p class="text-gray-600 text-sm flex items-center gap-2">
                    Gestiona tus servicios de manera eficiente
                </p>
            </div>

            <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full md:w-auto">
                <div class="relative group w-full sm:w-80">
                    <i
                        class="pi pi-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-emerald-500 transition-colors"></i>
                    <input type="text" [(ngModel)]="terminoBusqueda" (input)="filtrar()"
                        placeholder="Buscar servicio..."
                        class="w-full pl-11 pr-4 py-3 rounded-xl border-2 border-gray-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-100 transition-all outline-none text-sm bg-white/80 backdrop-blur-sm" />
                </div>
                <button
                    class="bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white px-6 py-3 rounded-xl transition-all flex items-center justify-center gap-2 font-semibold text-sm shadow-lg shadow-emerald-200/50 hover:shadow-xl hover:shadow-emerald-300/50 hover:-translate-y-0.5 whitespace-nowrap group">
                    <span
                        class="material-symbols-outlined text-lg group-hover:rotate-90 transition-transform">add</span>
                    Nuevo Servicio
                </button>
            </div>
        </div>
    </div>

    <!-- Services Table -->
    <div class="bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden p-4">
        <!-- Table Container -->
        <div class="overflow-x-auto">
            <p-table [value]="serviciosMostrados" [sortMode]="'single'" styleClass="modern-table">
                <ng-template pTemplate="header">
                    <tr class="bg-gradient-to-r from-gray-50 to-gray-100/50 border-b-2 border-gray-200">
                        <th pSortableColumn="nombre"
                            class="px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors group">
                            <div class="flex items-center gap-2">
                                <i class="pi pi-tag text-emerald-500"></i>
                                Nombre
                                <p-sortIcon field="nombre"
                                    class="group-hover:text-emerald-500 transition-colors"></p-sortIcon>
                            </div>
                        </th>
                        <th class="px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">
                            <div class="flex items-center gap-2">
                                <i class="pi pi-file-edit text-blue-500"></i>
                                Descripci√≥n
                            </div>
                        </th>
                        <th pSortableColumn="precio"
                            class="px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors group">
                            <div class="flex items-center gap-2">
                                <i class="pi pi-money-bill text-green-500"></i>
                                Precio
                                <p-sortIcon field="precio"
                                    class="group-hover:text-emerald-500 transition-colors"></p-sortIcon>
                            </div>
                        </th>
                        <th pSortableColumn="estado"
                            class="px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors group">
                            <div class="flex items-center gap-2">
                                <i class="pi pi-circle text-purple-500"></i>
                                Estado
                                <p-sortIcon field="estado"
                                    class="group-hover:text-emerald-500 transition-colors"></p-sortIcon>
                            </div>
                        </th>
                        <th class="px-6 py-4 text-left text-xs font-bold text-gray-600  uppercase tracking-wider">
                            <div class="flex items-center gap-2">
                                <i class="pi pi-cog text-gray-500"></i>
                                Acciones
                            </div>
                        </th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-servicio let-rowIndex="rowIndex">
                    <tr
                        class="border-b border-gray-100 hover:bg-gradient-to-r hover:from-emerald-50/30 hover:to-teal-50/20 transition-all duration-200 group">
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="flex items-center gap-3">
                                <div
                                    class="w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-100 to-teal-100 flex items-center justify-center shadow-sm">
                                    <span class="material-symbols-outlined text-emerald-600 text-lg">
                                        {{ servicio.icono }}
                                    </span>
                                </div>
                                <div class="text-sm font-semibold text-gray-800">{{ servicio.nombre }}</div>
                            </div>
                        </td>
                        <td class="px-6 py-4 max-w-md">
                            <div class="text-sm text-gray-600 line-clamp-2">{{ servicio.descripcion }}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div
                                class="text-base font-bold text-gray-900 bg-gray-100 px-3 py-1.5 rounded-lg inline-block border border-gray-200">
                                S/ {{ servicio.precio | number:'1.2-2' }}
                            </div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <!-- REEMPLAZA tu badge de estado con este -->
                            <span [ngClass]="{
    'bg-gradient-to-r from-emerald-100 to-green-100 text-emerald-700 border-emerald-200': servicio.estado === 'ACTIVO',
    'bg-gradient-to-r from-gray-100 to-slate-100 text-gray-600 border-gray-200': servicio.estado === 'INACTIVO'
}" class="px-4 py-2 inline-flex items-center gap-2 rounded-full font-semibold text-xs border shadow-sm">
                                <span class="w-2 h-2 rounded-full" [ngClass]="{
        'bg-emerald-500 animate-pulse': servicio.estado === 'ACTIVO',
        'bg-gray-400': servicio.estado === 'INACTIVO'
    }"></span>
                                {{ servicio.estado }}
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="flex items-center gap-2">
                                <button
                                    class="inline-flex items-center gap-2 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg text-xs font-semibold transition-all hover:shadow-lg hover:shadow-yellow-200 hover:-translate-y-0.5 group/btn cursor-pointer">
                                    <i class="pi pi-pencil text-xs group-hover/btn:rotate-12 transition-transform"></i>
                                </button>
                                <button
                                    class="inline-flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-xs font-semibold transition-all hover:shadow-lg hover:shadow-red-200 hover:-translate-y-0.5 group/btn cursor-pointer">
                                    <i class="pi pi-trash text-xs group-hover/btn:scale-110 transition-transform"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                </ng-template>

                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="5" class="text-center py-16">
                            <div class="flex flex-col items-center gap-4">
                                <div
                                    class="w-20 h-20 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center">
                                    <i class="pi pi-inbox text-4xl text-gray-400"></i>
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-gray-700 mb-1">No hay servicios disponibles</h4>
                                    <p class="text-sm text-gray-500">Crea tu primer servicio para comenzar</p>
                                </div>
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>

        <!-- Table Footer with Stats -->
        <div class="bg-gradient-to-r from-gray-50 to-gray-100/50 px-6 py-4 border-t border-gray-200">
            <div class="flex items-center justify-between text-sm">
                <div class="flex items-center gap-2 text-gray-600">
                    <i class="pi pi-list text-emerald-500"></i>
                    <span class="font-semibold">Total de servicios:</span>
                    <span class="px-3 py-1 bg-white rounded-full font-bold text-emerald-600 border border-emerald-200">
                        {{ serviciosFiltrados.length }}
                    </span>
                </div>

            </div>
        </div>
    </div>

    <!-- Pagination -->
    <div class="mt-6">
        <p-paginator (onPageChange)="onPageChange($event)" [first]="first" [rows]="rows"
            [totalRecords]="serviciosFiltrados.length"
            styleClass="!bg-white !rounded-2xl !border !border-gray-200 !shadow-sm">
        </p-paginator>
    </div>

</div>